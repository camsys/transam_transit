:javascript

  $('#parent_name').on('focus', function() {
    _typeahead_source_url = $(this).data('url');
  });

  // Enable typeahead for the SMO filter
  $('#parent_name').typeahead({
    items: 10,
    minLength: 2,
    source: _typeahead_searcher,
    matcher: _typeahead_matcher,
    highlighter: _typeahead_highlighter,
    updater: function (obj) {
      var item = JSON.parse(obj);
      // Update the UI
      $('#parent_name').attr('value', item.name);
      $('#asset_event_parent_key').attr('value', item.id);
      return item.name;
    }
  });