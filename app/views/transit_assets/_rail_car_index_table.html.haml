:ruby
  table_dom_id = SecureRandom.hex

-# #table_actions.btn-toolbar
-#   = render partial: 'asset_fleets/index_filter'

= javascript_include_tag  "https://kit.fontawesome.com/#{ENV['FONT_AWESOME']}.js"
.library-table
  %table.elbat{:id => table_dom_id,
  :use => 'true',
  :data => {:use => 'true',
    :table_code => 'rail_cars',
    :side => 'server',
    :current_page => '0',
    :current_page_size => '10',
    :page_sizes => "10,20,50,100",
    :search => 'server',
    :export => "['csv', 'txt', 'excel']",
    :columns => '{"asset_id":{"name":"Asset ID","type":"drilldown-link","width":"5%"},
                  "org_name":{"name":"Organization","width":"6%"},
                  "vin":{"name":"VIN"},
                  "manufacturer":{"name":"Manufacturer","width":"16%"},
                  "model":{"name":"Model"},
                  "year":{"name":"Year","width":"4%"},
                  "type":{"name":"Type"},
                  "subtype":{"name":"Subtype"},
                  "service_status":{"name":"Service Status"},
                  "9":{"name":"ESL"},
                  "last_life_cycle_action":{"name":"Last Life Cycle Action"},
                  "life_cycle_action_date":{"name":"Life Cycle Action Date"},
                  "12":{"name":"Class"},
                  "13":{"name":"External ID"},
                  "14":{"name":"Chassis"},
                  "15":{"name":"Fuel Type"},
                  "16":{"name":"Cost (Purchase)"},
                  "17":{"name":"In Service Date"},
                  "18":{"name":"Operator"},
                  "19":{"name":"Plate #"},
                  "20":{"name":"Primary Mode"},
                  "21":{"name":"Direct Capital Responsibility"},
                  "22":{"name":"Capital Responsibility %"},
                  "23":{"name":"TERM Condition"},
                  "24":{"name":"TERM Rating"},
                  "25":{"name":"NTD ID"},
                  "26":{"name":"Odometer Reading"},
                  "27":{"name":"Location"},
                  "28":{"name":"Operational Status"}}',
    :selected_columns => "asset_id,org_name,vin,manufacturer,model,year,type,subtype,service_status,last_life_cycle_action,life_cycle_action_date",
    :cookies => 'true',
    :sort => 'server',
    :params => '{"fta_asset_class_code":"rail_car"}',
    url: table_transit_assets_path(format: :json) }}

-# :javascript
-#   window["#{table_dom_id}"].apply_styles = function(){
-#     $("##{table_dom_id} .col-item:nth-child(2)").css("width", "5%");
-#     $("##{table_dom_id} .col-item:nth-child(3)").css("width", "6%");
-#     $("##{table_dom_id} .col-item:nth-child(5)").css("width", "16%");
-#     $("##{table_dom_id} .col-item:nth-child(7)").css("width", "4%");
-#   };

-#.table-responsive
-#  %table.table.table-condensed.table-hover{:id => table_dom_id,
-#    :data => {:toggle => 'table',
-#    :url => asset_fleets_path(:fta_asset_category_id => @fta_asset_category.id,
-#                              :primary_fta_mode_type_id => @primary_fta_mode_type_id,
-#                              :primary_fta_service_type_id => @primary_fta_service_type_id,
-#                              :search_text => @search_text,
-#                              :fta_vehicle_type_id => @fta_vehicle_type_id,
-#                              :manufacturer_id => @manufacturer_id,
-#                              :manufacture_year => @manufacture_year,
-#                              :status => @status,
-#                              :format => :json),
-#    :card_view => "false",
-#    :pagination => 'true',
-#    :sort_order => 'asc',
-#    :sortable => 'true',
-#    :side_pagination => 'server',
-#    :show_pagination_switch => 'false',
-#    :page_number => '1',
-#    :page_list => "[5, 10, 20, 50, 100, 200, 1000, 10000]",
-#    :page_size => current_user.num_table_rows,
-#    :search => 'false',
-#    :toolbar => "#table_actions",
-#    :show_columns => 'false',
-#    :show_export => 'true',
-#    :row_style => 'row_style',
-#    :click_to_select => 'false',
-#    :show_export => 'true',
-#    :export_types => "['csv', 'txt', 'excel']",
-#    :cookie => 'true',
-#    :cookie_id_table => "asset_fleetsid",
-#    :cookie_expire => "1y",
-#    :maintain_selected => 'false',
-#    :single_select => 'false'}}
-#
-#    %thead
-#      %tr
-#        %th.left{:data => {:field => 'object_key', :visible => 'false'}} Object Key
-#        - if @organization_list.count > 1
-#          %th.left{:data => {:field => 'organization',:sortable => 'true'}} Agency
-#        %th.left{:data => {:field => 'ntd_id', :sortable => 'true'}} NTD ID
-#        %th.left{:data => {:field => 'agency_fleet_id', :sortable => 'true'}} Agency Fleet ID
-#        %th.left{:data => {:field => 'primary_fta_mode_type_id', :sortable => 'true'}} Primary Mode
-#        %th.left{:data => {:field => 'primary_fta_service_type_id', :sortable => 'true'}} Type of Service
-#        %th.left{:data => {:field => 'total_count', :sortable => 'false'}} Total Vehicles
-#        %th.left{:data => {:field => 'active_count', :sortable => 'false'}} Active Vehicles
-#        - if Rails.application.config.asset_base_class_name == 'TransamAsset'
-#          %th.left{:data => {:field => 'fta_type_id', :sortable => 'true'}} Type
-#        - else
-#          %th.left{:data => {:field => 'fta_vehicle_type_id', :sortable => 'true'}} FTA Vehicle Type
-#        %th.left{:data => {:field => 'manufacturer_id', :sortable => 'true'}} Manufacturer
-#        %th.left{:data => {:field => 'manufacturer_model', :sortable => 'true'}} Model
-#        %th.left{:data => {:field => 'manufacture_year', :sortable => 'true'}} Year Manufactured
-#        %th.center{:data => {:field => 'rebuilt_year', :sortable => 'true', :formatter => 'rebuilt_year_formatter'}} Rebuild /Rehabilitation
-#
-#        %th.left{:data => {:field => 'useful_life_benchmark', :sortable => 'false'}} Useful Life Benchmark
-#        %th.left{:data => {:field => 'useful_life_remaining', :sortable => 'false'}} Useful Life Remaining
-#        %th.center{:data => {:field => 'action', :formatter => 'action_formatter'}} Action


-#
-#

