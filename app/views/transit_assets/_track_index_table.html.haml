:ruby
  table_dom_id = SecureRandom.hex

-# #table_actions.btn-toolbar
-#   = render partial: 'asset_fleets/index_filter'

= javascript_include_tag  "https://kit.fontawesome.com/#{ENV['FONT_AWESOME']}.js"
.library-table
  %table.elbat{:id => table_dom_id,
  :use => 'true',
  :data => {:use => 'true',
    :table_code => 'track',
    :side => 'server',
    :current_page => '0',
    :current_page_size => '10',
    :page_sizes => "10,20,50,100",
    :search => 'server',
    :export => "['csv', 'txt', 'excel']",
    :columns => '{"asset_id":{"name":"Asset ID","type":"drilldown-link","width":"5%", "unmovable":true},
                  "org_name":{"name":"Organization","width":"6%"},
                  "from_line":{"name":"Line (from)"},
                  "from_segment":{"name":"From"},
                  "to_line":{"name":"Line (to)"},
                  "to_segment":{"name":"To"},
                  "subtype":{"name":"Subtype"},
                  "description":{"name":"Description"},
                  "main_line":{"name":"Main Line / Division"},
                  "branch":{"name":"Branch / Subdivision"},
                  "track":{"name":"Track"},
                  "segment_type":{"name":"Segment Type"},
                  "location":{"name":"Location"},
                  "service_status":{"name":"Service Status"},
                  "last_life_cycle_action":{"name":"Last Life Cycle Action", "unmovable":true},
                  "life_cycle_action_date":{"name":"Life Cycle Action Date", "unmovable":true},
                  "fta_asset_class":{"name":"Class"},
                  "type":{"name":"Type"},
                  "external_id":{"name":"External ID"},
                  "primary_mode":{"name":"Primary Mode"},
                  "purchase_cost":{"name":"Cost (Purchase)"},
                  "in_service_date":{"name":"In Service Date"},
                  "direct_capital_responsibility":{"name":"Direct Capital Responsibility"},
                  "pcnt_capital_responsibility":{"name":"Capital Responsibility %"},
                  "term_condition":{"name":"TERM Condition"},
                  "term_rating":{"name":"TERM Rating"}}',
    :selected_columns => 'asset_id,org_name,from_line,from_segment,to_line,to_segment,subtype,description,main_line,branch,track,segment_type,location,service_status,last_life_cycle_action,life_cycle_action_date',
    :cookies => 'true',
    :sort => 'server',
    :params => '{ "fta_asset_class_code":"track" }',
    url: table_transit_assets_path(format: :json) }}
