<script type="text/javascript">

  $(document).ready(function() {

    transam.enable_date_pickers();
    transam.make_same_height('.form_part');

      // Page Load Events
      $('#spinner').hide();
      $('.equipment-related-only').hide();
      $('.vehicle-related-only').hide();
      $('#class_name').val('All');
      $('#type-selector option:eq(0)').addClass('All');

      // Search Form AJAX event handling // See https://github.com/rails/jquery-ujs/wiki/ajax
      $("form").on("ajax:send", function(xhr) {
        $('#results_table').hide();
        $('#spinner').show();
      })
      .on("ajax:success", function(xhr) {
        $(".search-panel").collapse('hide');
      })
      .on("ajax:complete", function(xhr, status) {
        $('#spinner').hide();
      });

      // Search Type Selector AJAX event handling
      $('#type-selector').on('click', function(event) {
        var selectedOptions = $('#type-selector option:selected');
        classNames = $.map(selectedOptions, function(option){
          return $(option).attr('class');
        });
        console.log(classNames);
        $('#class_name').val(classNames);
        console.log($('#class_name').val());

        if ($.inArray("Equipment", classNames) === -1)
          $('.equipment-related-only').hide();
        else
          $('.equipment-related-only').show();

        if ($.inArray("Vehicle", classNames) === -1 && $.inArray("SupportVehicle", classNames) === -1)
          $('.vehicle-related-only').hide();
        else
          $('.vehicle-related-only').show();


      });
      // Select All Types
      // $('.All').on('click', function(event) {
      //   event.preventDefault(); // To prevent following the link (optional)
      //   $('.all-asset-only').show();
      //   $('.equipment-related-only').hide();
      //   $('.vehicle-related-only').hide();
      // });

      // // Select Equipment
      // $('.Equipment').on('click', function(event) {
      //   event.preventDefault(); // To prevent following the link (optional)
      //   $('.all-asset-only').hide();
      //   $('.vehicle-related-only').hide();
      //   $('.equipment-related-only').show();
      // });

      // // Select Vehicle
      // $('.Vehicle, .SupportVehicle').on('click', function(event) {
      //   event.preventDefault(); // To prevent following the link (optional)
      //   $('.all-asset-only').hide();
      //   $('.vehicle-related-only').show();
      //   $('.equipment-related-only').hide();
      // });


  });

</script>
