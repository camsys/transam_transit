class AddSomeMissingTeamAliCodes < ActiveRecord::DataMigration
  def up
    new_codes = [
      {code: '11.71.XX', name: '3rd Party Contracts', parent_code: '11.7X.XX'},
      {code: '11.71.01', name: 'Preliminary Engineering', parent_code: '11.71.XX'},
      {code: '11.71.02', name: 'Final Design Services', parent_code: '11.71.XX'},
      {code: '11.71.03', name: 'Project Management', parent_code: '11.71.XX'},
      {code: '11.71.04', name: 'Construction Management', parent_code: '11.71.XX'},
      {code: '11.71.05', name: 'Insurance', parent_code: '11.71.XX'},
      {code: '11.71.06', name: 'Legal', parent_code: '11.71.XX'},
      {code: '11.71.07', name: 'Audit', parent_code: '11.71.XX'},
      {code: '11.71.08', name: 'Construction (Force Account)', parent_code: '11.71.XX'},
      {code: '11.71.09', name: 'Rolling Stock Rehab (FA)', parent_code: '11.71.XX'},
      {code: '11.71.10', name: 'Inspection (FA)', parent_code: '11.71.XX'},
      {code: '11.71.11', name: 'Other', parent_code: '11.71.XX'},
      {code: '11.71.12', name: 'Capital Cost of Contracting', parent_code: '11.71.XX'},
      {code: '11.71.13', name: 'Contracted Service (5310 only)', parent_code: '11.71.XX'},
      {code: '11.73.00', name: 'Contingencies/Program Reserve', parent_code: '11.7X.XX'},
      {code: '11.74.00', name: 'Public Buyout', parent_code: '11.7X.XX'},
      {code: '11.77.00', name: 'Project Income', parent_code: '11.7X.XX'},
      {code: '11.78.00', name: 'Capital Project Income', parent_code: '11.7X.XX'},
      {code: '11.79.00', name: 'Project Administration', parent_code: '11.7X.XX'},
      {code: '11.7A.00', name: 'Preventive Maintenance', parent_code: '11.7X.XX'},
      {code: '11.7B.00', name: 'SIB Capitalization', parent_code: '11.7X.XX'},
      {code: '11.7C.00', name: 'Non Fixed Route ADA Paratransit', parent_code: '11.7X.XX'},
      {code: '11.7E.00', name: 'Community Service Facilities', parent_code: '11.7X.XX'},
      {code: '11.7F.00', name: 'TDM Activities - CMAQ only', parent_code: '11.7X.XX'},
      {code: '11.7L.00', name: 'Mobility Management (5302(a)(1)(L)', parent_code: '11.7X.XX'},
      {code: '11.7M.00', name: 'Debt Service Reserve (5302(a)(1)(K)', parent_code: '11.7X.XX'},
      {code: '11.7P.00', name: 'Transit Asset Management (5337, 5307, 5311)', parent_code: '11.7X.XX'},
      {code:'11.72.XX',name:'Force Account',parent_code:'11.7X.XX'},
      {code:'11.72.01',name:'Preliminary Engineering',parent_code:'11.72.XX'},
      {code:'11.72.02',name:'Final Design Services',parent_code:'11.72.XX'},
      {code:'11.72.03',name:'Project Management',parent_code:'11.72.XX'},
      {code:'11.72.04',name:'Construction Management',parent_code:'11.72.XX'},
      {code:'11.72.05',name:'Insurance',parent_code:'11.72.XX'},
      {code:'11.72.06',name:'Legal',parent_code:'11.72.XX'},
      {code:'11.72.07',name:'Audit',parent_code:'11.72.XX'},
      {code:'11.72.08',name:'Construction (Force Account)',parent_code:'11.72.XX'},
      {code:'11.72.09',name:'Rolling Stock Rehab (FA)',parent_code:'11.72.XX'},
      {code:'11.72.10',name:'Inspection (FA)',parent_code:'11.72.XX'},
      {code:'11.72.11',name:'Other',parent_code:'11.72.XX'},
      {code:'11.72.12',name:'Capital Cost of Contracting',parent_code:'11.72.XX'},
      {code:'11.72.13',name:'Contracted Service (5310 only)',parent_code:'11.72.XX'},
      {code:'11.75.XX',name:'Real Estate (R/W)',parent_code:'11.7X.XX'},
      {code:'11.75.91',name:'Acquisition',parent_code:'11.75.XX'},
      {code:'11.75.92',name:'Relocation (Actual)',parent_code:'11.75.XX'},
      {code:'11.75.93',name:'Demolition',parent_code:'11.75.XX'},
      {code:'11.75.94',name:'Appraisal',parent_code:'11.75.XX'},
      {code:'11.75.95',name:'Utility Relocation',parent_code:'11.75.XX'},
      {code:'11.75.96',name:'Construction',parent_code:'11.75.XX'},
      {code:'11.75.97',name:'Rehabilitation',parent_code:'11.75.XX'},
      {code:'11.75.98',name:'Lease',parent_code:'11.75.XX'},
      {code:'11.76.XX',name:'Real Estate (Other)',parent_code:'11.7X.XX'},
      {code:'11.76.91',name:'Acquisition',parent_code:'11.76.XX'},
      {code:'11.76.92',name:'Relocation (Actual)',parent_code:'11.76.XX'},
      {code:'11.76.93',name:'Demolition',parent_code:'11.76.XX'},
      {code:'11.76.94',name:'Appraisal',parent_code:'11.76.XX'},
      {code:'11.76.95',name:'Utility Relocation',parent_code:'11.76.XX'},
      {code:'11.76.96',name:'Construction',parent_code:'11.76.XX'},
      {code:'11.76.97',name:'Rehabilitation',parent_code:'11.76.XX'},
      {code:'11.76.98',name:'Lease',parent_code:'11.76.XX'},
      {code:'11.7D.XX',name:'Training - Capital Bus',parent_code:'11.7X.XX'},
      {code:'11.7D.01',name:'OVER THE ROAD BUS PRGM.',parent_code:'11.7D.XX'},
      {code:'11.7D.02',name:'EMPLOYEE EDUCATION/TRAINING',parent_code:'11.7D.XX'},
      {code:'11.7K.XX',name:'Crime Prevent/Security - Capital Bus',parent_code:'11.7X.XX'},
      {code:'11.7K.01',name:'SECURITY AND EMERGENCY RESPONSE PLANS',parent_code:'11.7K.XX'},
      {code:'11.7K.02',name:'BIOLOGICAL/CHEMICAL AGENT DETECTION',parent_code:'11.7K.XX'},
      {code:'11.7K.03',name:'EMERGENCY RESPONSE DRILLS',parent_code:'11.7K.XX'},
      {code:'11.7K.04',name:'SECURITY TRAINING',parent_code:'11.7K.XX'},
      {code:'11.7N.XX',name:'Special Fuel Provision - Capital Bus',parent_code:'11.7X.XX'},
      {code:'11.7N.01',name:'FUEL FOR VEHICLE OPERATIONS',parent_code:'11.7N.XX'},
      {code:'11.7N.02',name:'UTILITY COSTS FOR ELECTRICAL VEHICLES',parent_code:'11.7N.XX'},
      {code:'12.7X.XX',name:'Other Capital Program Items.',parent_code:'12.XX.XX'},
      {code:'12.71.XX',name:'3rd Party Contracts',parent_code:'12.7X.XX'},
      {code:'12.71.01',name:'Preliminary Engineering',parent_code:'12.71.XX'},
      {code:'12.71.02',name:'Final Design Services',parent_code:'12.71.XX'},
      {code:'12.71.03',name:'Project Management',parent_code:'12.71.XX'},
      {code:'12.71.04',name:'Construction Management',parent_code:'12.71.XX'},
      {code:'12.71.05',name:'Insurance',parent_code:'12.71.XX'},
      {code:'12.71.06',name:'Legal',parent_code:'12.71.XX'},
      {code:'12.71.07',name:'Audit',parent_code:'12.71.XX'},
      {code:'12.71.08',name:'Construction (Force Account)',parent_code:'12.71.XX'},
      {code:'12.71.09',name:'Rolling Stock Rehab (FA)',parent_code:'12.71.XX'},
      {code:'12.71.10',name:'Inspection (FA)',parent_code:'12.71.XX'},
      {code:'12.71.11',name:'Other',parent_code:'12.71.XX'},
      {code:'12.71.12',name:'Capital Cost of Contracting',parent_code:'12.71.XX'},
      {code:'12.71.13',name:'Contracted Service (5310 only)',parent_code:'12.71.XX'},
      {code:'12.73.00',name:'Contingencies/Program Reserve',parent_code:'12.7X.XX'},
      {code:'12.74.00',name:'Public Buyout',parent_code:'12.7X.XX'},
      {code:'12.77.00',name:'Project Income',parent_code:'12.7X.XX'},
      {code:'12.78.00',name:'Capital Project Income',parent_code:'12.7X.XX'},
      {code:'12.79.00',name:'Project Administration',parent_code:'12.7X.XX'},
      {code:'12.7A.00',name:'Preventive Maintenance',parent_code:'12.7X.XX'},
      {code:'12.7B.00',name:'SIB Capitalization',parent_code:'12.7X.XX'},
      {code:'12.7C.00',name:'Non Fixed Route ADA Paratransit',parent_code:'12.7X.XX'},
      {code:'12.7E.00',name:'Community Service Facilities',parent_code:'12.7X.XX'},
      {code:'12.7F.00',name:'TDM Activities - CMAQ only',parent_code:'12.7X.XX'},
      {code:'12.7L.00',name:'Mobility Management (5302(a)(1)(L)',parent_code:'12.7X.XX'},
      {code:'12.7M.00',name:'Debt Service Reserve (5302(a)(1)(K)',parent_code:'12.7X.XX'},
      {code:'12.7P.00',name:'Transit Asset Management (5337, 5307, 5311)',parent_code:'12.7X.XX'},
      {code:'12.72.XX',name:'Force Account',parent_code:'12.7X.XX'},
      {code:'12.72.01',name:'Preliminary Engineering',parent_code:'12.72.XX'},
      {code:'12.72.02',name:'Final Design Services',parent_code:'12.72.XX'},
      {code:'12.72.03',name:'Project Management',parent_code:'12.72.XX'},
      {code:'12.72.04',name:'Construction Management',parent_code:'12.72.XX'},
      {code:'12.72.05',name:'Insurance',parent_code:'12.72.XX'},
      {code:'12.72.06',name:'Legal',parent_code:'12.72.XX'},
      {code:'12.72.07',name:'Audit',parent_code:'12.72.XX'},
      {code:'12.72.08',name:'Construction (Force Account)',parent_code:'12.72.XX'},
      {code:'12.72.09',name:'Rolling Stock Rehab (FA)',parent_code:'12.72.XX'},
      {code:'12.72.10',name:'Inspection (FA)',parent_code:'12.72.XX'},
      {code:'12.72.11',name:'Other',parent_code:'12.72.XX'},
      {code:'12.72.12',name:'Capital Cost of Contracting',parent_code:'12.72.XX'},
      {code:'12.72.13',name:'Contracted Service (5310 only)',parent_code:'12.72.XX'},
      {code:'12.75.XX',name:'Real Estate (R/W)',parent_code:'12.7X.XX'},
      {code:'12.75.91',name:'Acquisition',parent_code:'12.75.XX'},
      {code:'12.75.92',name:'Relocation (Actual)',parent_code:'12.75.XX'},
      {code:'12.75.93',name:'Demolition',parent_code:'12.75.XX'},
      {code:'12.75.94',name:'Appraisal',parent_code:'12.75.XX'},
      {code:'12.75.95',name:'Utility Relocation',parent_code:'12.75.XX'},
      {code:'12.75.96',name:'Construction',parent_code:'12.75.XX'},
      {code:'12.75.97',name:'Rehabilitation',parent_code:'12.75.XX'},
      {code:'12.75.98',name:'Lease',parent_code:'12.75.XX'},
      {code:'12.76.XX',name:'Real Estate (Other)',parent_code:'12.7X.XX'},
      {code:'12.76.91',name:'Acquisition',parent_code:'12.76.XX'},
      {code:'12.76.92',name:'Relocation (Actual)',parent_code:'12.76.XX'},
      {code:'12.76.93',name:'Demolition',parent_code:'12.76.XX'},
      {code:'12.76.94',name:'Appraisal',parent_code:'12.76.XX'},
      {code:'12.76.95',name:'Utility Relocation',parent_code:'12.76.XX'},
      {code:'12.76.96',name:'Construction',parent_code:'12.76.XX'},
      {code:'12.76.97',name:'Rehabilitation',parent_code:'12.76.XX'},
      {code:'12.76.98',name:'Lease',parent_code:'12.76.XX'},
      {code:'12.7D.XX',name:'Training - Capital Bus',parent_code:'12.7X.XX'},
      {code:'12.7D.01',name:'OVER THE ROAD BUS PRGM.',parent_code:'12.7D.XX'},
      {code:'12.7D.02',name:'EMPLOYEE EDUCATION/TRAINING',parent_code:'12.7D.XX'},
      {code:'12.7K.XX',name:'Crime Prevent/Security - Capital Bus',parent_code:'12.7X.XX'},
      {code:'12.7K.01',name:'SECURITY AND EMERGENCY RESPONSE PLANS',parent_code:'12.7K.XX'},
      {code:'12.7K.02',name:'BIOLOGICAL/CHEMICAL AGENT DETECTION',parent_code:'12.7K.XX'},
      {code:'12.7K.03',name:'EMERGENCY RESPONSE DRILLS',parent_code:'12.7K.XX'},
      {code:'12.7K.04',name:'SECURITY TRAINING',parent_code:'12.7K.XX'},
      {code:'12.7N.XX',name:'Special Fuel Provision - Capital Bus',parent_code:'12.7X.XX'},
      {code:'12.7N.01',name:'FUEL FOR VEHICLE OPERATIONS',parent_code:'12.7N.XX'},
      {code:'12.7N.02',name:'UTILITY COSTS FOR ELECTRICAL VEHICLES',parent_code:'12.7N.XX'},
    ]

    new_codes.each do |team_ali_code|
      if TeamAliCode.find_by(code: team_ali_code[:code]).nil?
        parent = TeamAliCode.find_by(code: team_ali_code[:parent_code])
        if parent.present?
          node = TeamAliCode.create!(:name => team_ali_code[:name], :code => team_ali_code[:code])
          node.move_to_child_of(parent)
        else
          puts "Can't create #{team_ali_code[:code]} because no parent"
        end
      end
    end
  end
end